
# I intentionally do not use color support for ls because it looks awful
# in my iTerm color scheme, which is based on vim zenburn. I still want
# the trailing file-type indicators (-F).

if [[ "$OS" = "Linux" ]]; then
	# Silly Linux makes up its own timestamp formatting.
	# That breaks project-mgmt. Bad Linux!
	alias ls='/bin/ls -F --time-style=+"%b %e %H:%M"'
else
	alias ls='/bin/ls -F'
fi

alias ..='cd ..'

test -d ~/.dotfiles && alias dot='cd ~/.dotfiles; git status'
alias gs='git status'
alias gd='git diff'
# color is turned off here because it looks terrible on my terminal bgcolor
alias ggraph='git log --graph --decorate --pretty=oneline --abbrev-commit --color=never'

# CVS at work uses an unexpected path. This is aliased because it breaks other
# repositories, e.g. sourceforge.
alias ncvs='CVS_SERVER=/usr/local/bin/cvs cvs'

# convenience aliases
alias c='clear'
alias p='proj'
alias mp='mkproj'

# Lets me queue up a beep if I want, i.e. "make ; beep"
alias beep='echo -ne "\a"'

# Common typos
alias whios='whois'
alias mroe='more'
alias More='more'
alias Grep='grep'
alias vm='rm'

# Just in case I'm somewhere that all this fancy color stuff doesn't
# work right, or I'm running screen, I can use this.
alias simpleprompt='export PS1="\u@$(_short_hname):\w{\$?}[\j]\\$ "'

# print the directory structure from the current directory in tree format
alias dirf='find . -type d|sed -e "s/[^-][^\/]*\//  |/g" -e "s/|\([^ ]\)/|-\1/"'

# find name...
alias fn='find . -name'

# file list without trailing type characters or anything.
alias fl='/bin/ls | cat'
alias fla='/bin/ls -a | cat'

# Show me time in GMT / UTC
alias utc='TZ=UTC date'
alias gmt='TZ=GMT date'
# Time in Tokyo
alias jst='TZ=Asia/Tokyo date'

test -x /usr/bin/mailx && alias mail='/usr/bin/mailx'
test -x /usr/ucb/Mail && alias Mail='/usr/ucb/Mail'

# Solaris diff sucks, use GNU diff instead.
test -x /usr/local/pkg/diffutils/bin/diff &&
	alias diff='/usr/local/pkg/diffutils/bin/diff'

# Tell me what OS this is
alias os='uname -srm'

# Shortcut to ssh with X11 forwarding explicitly enabled and disabled
alias sshx='ssh -X'
alias sshnx='ssh -x'

# Tail a file even if it's rotated out (e.g. log files) - needs GNU tail
alias tailf='tail --follow=name'

# Strip comment / blank lines from an output
alias stripcomments="egrep -v '^([\ \t]*#|$)'"

# Check for hosed SMF services
test -x /bin/svcs && alias xv='svcs -xv'

# Show me an SMF service with its processes
test -x /bin/svcs && alias sp='svcs -p'

# I like to use smart-case with Ack.
test -n "$HAVE_ACK" && alias ack="$HAVE_ACK --smart-case"

# reload bash config
alias reload='source ~/.bashrc'

# commands starting with % for pasting from web
alias %=' '

